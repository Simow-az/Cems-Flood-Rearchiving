set tablesVersion=36; # Latest table
set experimentVersionNumber=0001; 
set hoursAfterDataCutoff=MISSING; # Should be missing for forecasts
set minutesAfterDataCutoff=MISSING; # Should be missing for forecasts
if(defined(typeOfStatisticalProcessing)){
            set typeOfTimeIncrement = 2; } # it was incorrecte before (3) https://confluence.ecmwf.int/pages/viewpage.action?pageId=363863394




if (marsType==10){
		set marsType=9;
}

set typeOfProcessedData=1;#forecast : https://github.com/ecmwf/eccodes/blob/develop/definitions/grib2/tables/35/1.4.table
set marsClass=43; #All efas streams are moving into ef class
set marsStream = 1025; # efas fc will move to oper fc

#New hydro local concept : branch Hydro-flat-list
set inputProcessIdentifier=504; #aifs-single-mse-v2.0 https://github.com/ecmwf/eccodes/blob/feature/hydro_flat_list/definitions/grib2/localConcepts/hydro/inputModelVersionConcept.def

set typeOfPostProcessing=0; #None (All efas streams except the subseasonal which is not within this code)
set typeOfGeneratingProcess=2;# Forecast https://github.com/wmo-im/GRIB2/blob/master/GRIB2_CodeFlag_4_3_CodeTable_en.csv#L11
set backgroundProcess=147; #Always lisflood for efas
set generatingProcessIdentifier=41; #Latest version of efas 'v5-efas'

transient anoffsetFirst_tmp = anoffsetFirst; # the LocalSection has these keys for all efas streams
transient anoffsetLast_tmp = anoffsetLast;# the LocalSection has these keys for all efas streams
transient anoffsetFrequency_temp=anoffsetFrequency;#the LocalSection has these keys for all efas streams

set grib2LocalSectionNumber=44; # for efas and glofas (Except the reforecast which is using 46) but it should be after the keys :anoffsetFirst,anoffsetLast,anoffsetFrequency and 
# before the keys offsetToStartOfAnalysisInHours,offsetToStartOfForecastFillupInHours,offsetTimeIncrementInHours

set offsetToStartOfAnalysisInHours=anoffsetFirst_tmp;
set offsetToStartOfForecastFillupInHours=anoffsetLast_tmp;
set offsetTimeIncrementInHours=anoffsetFrequency_temp;
write;





